services:
  - type: web
    name: aineon-enterprise
    runtime: docker
    region: oregon
    
    # Build configuration
    dockerfilePath: ./Dockerfile
    dockerContext: ./
    
    # Environment variables
    envVars:
      - key: PORT
        value: 3000
      - key: NODE_ENV
        value: production
      - key: ENVIRONMENT
        value: production
      - key: PYTHONUNBUFFERED
        value: "1"
      - key: PYTHONDONTWRITEBYTECODE
        value: "1"
      
      # Application variables (must be set in Render dashboard or via secrets)
      - key: ETH_RPC_URL
        sync: false
      - key: WALLET_ADDRESS
        sync: false
      - key: PRIVATE_KEY
        sync: false
    
    # Health check configuration
    healthCheckPath: /health
    healthCheckInterval: 30
    healthCheckTimeout: 10
    healthCheckStartupTime: 10
    healthCheckRetries: 3
    
    # Scaling configuration
    scaling:
      minInstances: 1
      maxInstances: 1
      targetCPUUtilization: 70
      targetMemoryUtilization: 80
    
    # Resource configuration
    plan: standard
    
    # Auto-deploy on push to main
    autoDeploy: true
    branch: main
