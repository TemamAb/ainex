# AINEON Flash Loan Engine - Production Deployment Configuration
# Auto-deploy from GitHub: github.com/TemamAb/myneon
# Pure Python Deployment (No Docker)

services:
  # ============================================================================
  # Main AINEON Engine API (Production) - Pure Python
  # ============================================================================
  - type: web
    name: aineon-engine-api
    env: python
    plan: starter
    pythonVersion: 3.11
    buildCommand: |
      pip install --upgrade pip setuptools wheel
      pip install -r requirements.txt
    startCommand: |
      python app.py
    envVars:
      - key: PYTHON_VERSION
        value: 3.11
      - key: ENVIRONMENT
        value: PRODUCTION
      - key: PORT
        value: $PORT
      - key: ETH_RPC_URL
        value: https://mainnet.infura.io/v3/YOUR_INFURA_KEY
      - key: WALLET_ADDRESS
        value: 0xYourWalletAddress
      - key: PRIVATE_KEY
        value: your_private_key_here
      - key: ETHERSCAN_API_KEY
        value: your_etherscan_api_key
      - key: DEBUG
        value: false
      - key: PROFIT_MODE
        value: ENTERPRISE_TIER
      - key: AUTO_TRANSFER_ENABLED
        value: "true"
      - key: PROFIT_THRESHOLD_ETH
        value: "1.0"
      - key: MIN_PROFIT_PER_TRADE
        value: "0.1"
      - key: MAX_POSITION_SIZE
        value: "1000.0"
      - key: DAILY_LOSS_LIMIT
        value: "100.0"
      - key: ENABLE_PROFIT_AUDIT
        value: "true"
      - key: ENABLE_ETHERSCAN_VERIFICATION
        value: "true"
    healthCheckPath: /health
    autoDeploy: true

  # ============================================================================
  # Real-Time Dashboard (Pure Python)
  # ============================================================================
  - type: web
    name: aineon-dashboard
    env: python
    plan: starter
    pythonVersion: 3.11
    buildCommand: |
      pip install --upgrade pip setuptools wheel
      pip install -r requirements.txt
    startCommand: |
      python live_profit_dashboard.py
    envVars:
      - key: PYTHON_VERSION
        value: 3.11
      - key: PORT
        value: $PORT
      - key: API_BASE_URL
        value: https://aineon-engine-api.onrender.com
      - key: ENVIRONMENT
        value: PRODUCTION
    healthCheckPath: /
    autoDeploy: true

  # ============================================================================
  # Profit Monitoring Service (Pure Python Worker)
  # ============================================================================
  - type: worker
    name: aineon-monitor
    env: python
    plan: starter
    pythonVersion: 3.11
    buildCommand: |
      pip install --upgrade pip setuptools wheel
      pip install -r requirements.txt
    startCommand: |
      python flash_loan_monitor.py
    envVars:
      - key: PYTHON_VERSION
        value: 3.11
      - key: API_BASE_URL
        value: https://aineon-engine-api.onrender.com
      - key: ENVIRONMENT
        value: PRODUCTION
    autoDeploy: true

  # ============================================================================
  # Background Profit Processing (Pure Python Worker)
  # ============================================================================
  - type: worker
    name: aineon-profit-processor
    env: python
    plan: starter
    pythonVersion: 3.11
    buildCommand: |
      pip install --upgrade pip setuptools wheel
      pip install -r requirements.txt
    startCommand: |
      python real_time_profit_monitor.py
    envVars:
      - key: PYTHON_VERSION
        value: 3.11
      - key: API_BASE_URL
        value: https://aineon-engine-api.onrender.com
      - key: ENVIRONMENT
        value: PRODUCTION
    autoDeploy: true