<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ainex Live Profit Monitor</title>
    <script src="https://cdn.ethers.io/lib/ethers-5.7.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
            color: #fff;
            font-family: 'Courier New', monospace;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            padding: 30px;
            background: rgba(0, 255, 157, 0.1);
            border: 2px solid #00FF9D;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            color: #00FF9D;
            text-shadow: 0 0 20px rgba(0, 255, 157, 0.5);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(87, 148, 242, 0.1);
            border: 1px solid #5794F2;
            border-radius: 10px;
            padding: 20px;
        }

        .stat-label {
            color: #888;
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #00FF9D;
        }

        .events-container {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #333;
            border-radius: 10px;
            padding: 20px;
            max-height: 600px;
            overflow-y: auto;
        }

        .event {
            background: rgba(0, 255, 157, 0.05);
            border-left: 4px solid #00FF9D;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 5px;
            animation: slideIn 0.3s ease-out;
        }

        .event.opportunity {
            border-left-color: #FFD700;
            background: rgba(255, 215, 0, 0.05);
        }

        .event-time {
            color: #5794F2;
            font-size: 0.9em;
        }

        .event-title {
            font-size: 1.2em;
            font-weight: bold;
            margin: 5px 0;
        }

        .event-details {
            color: #ccc;
            font-size: 0.95em;
            line-height: 1.6;
        }

        .profit {
            color: #00FF9D;
            font-weight: bold;
            font-size: 1.1em;
        }

        .status {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            margin-top: 10px;
        }

        .status.live {
            background: #00FF9D;
            color: #000;
        }

        .status.scanning {
            background: #5794F2;
            color: #fff;
        }

        @keyframes slideIn {
            from {
                transform: translateX(-20px);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>‚ö° AINEX LIVE PROFIT MONITOR ‚ö°</h1>
            <p style="margin-top: 10px; color: #5794F2;">Real-Time Blockchain Events & Arbitrage Detection</p>
            <div class="status live pulse" id="status">üü¢ LIVE</div>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-label">Current Block</div>
                <div class="stat-value" id="blockNumber">Loading...</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Gas Price</div>
                <div class="stat-value" id="gasPrice">-- Gwei</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">ETH Price</div>
                <div class="stat-value" id="ethPrice">$--</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Total Profit</div>
                <div class="stat-value profit" id="totalProfit">$0.00</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Opportunities Found</div>
                <div class="stat-value" id="oppCount">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Trades Executed</div>
                <div class="stat-value" id="tradeCount">0</div>
            </div>
        </div>

        <div class="events-container" id="events">
            <div class="event">
                <div class="event-time">Initializing...</div>
                <div class="event-title">üîÑ Connecting to Ethereum Mainnet</div>
                <script src="https://cdn.ethers.io/lib/ethers-5.7.umd.min.js"></script>
                <style>
                    * {
                        margin: 0;
                        padding: 0;
                        box-sizing: border-box;
                    }

                    body {
                        background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
                        color: #fff;
                        font-family: 'Courier New', monospace;
                        padding: 20px;
                        min-height: 100vh;
                    }

                    .container {
                        max-width: 1400px;
                        margin: 0 auto;
                    }

                    .header {
                        text-align: center;
                        padding: 30px;
                        background: rgba(0, 255, 157, 0.1);
                        border: 2px solid #00FF9D;
                        border-radius: 10px;
                        margin-bottom: 30px;
                    }

                    .header h1 {
                        font-size: 2.5em;
                        color: #00FF9D;
                        text-shadow: 0 0 20px rgba(0, 255, 157, 0.5);
                    }

                    .stats-grid {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                        gap: 20px;
                        margin-bottom: 30px;
                    }

                    .stat-card {
                        background: rgba(87, 148, 242, 0.1);
                        border: 1px solid #5794F2;
                        border-radius: 10px;
                        padding: 20px;
                    }

                    .stat-label {
                        color: #888;
                        font-size: 0.9em;
                        margin-bottom: 5px;
                    }

                    .stat-value {
                        font-size: 2em;
                        font-weight: bold;
                        color: #00FF9D;
                    }

                    .events-container {
                        background: rgba(0, 0, 0, 0.5);
                        border: 1px solid #333;
                        border-radius: 10px;
                        padding: 20px;
                        max-height: 600px;
                        overflow-y: auto;
                    }

                    .event {
                        background: rgba(0, 255, 157, 0.05);
                        border-left: 4px solid #00FF9D;
                        padding: 15px;
                        margin-bottom: 15px;
                        border-radius: 5px;
                        animation: slideIn 0.3s ease-out;
                    }

                    .event.opportunity {
                        border-left-color: #FFD700;
                        background: rgba(255, 215, 0, 0.05);
                    }

                    .event-time {
                        color: #5794F2;
                        font-size: 0.9em;
                    }

                    .event-title {
                        font-size: 1.2em;
                        font-weight: bold;
                        margin: 5px 0;
                    }

                    .event-details {
                        color: #ccc;
                        font-size: 0.95em;
                        line-height: 1.6;
                    }

                    .profit {
                        color: #00FF9D;
                        font-weight: bold;
                        font-size: 1.1em;
                    }

                    .status {
                        display: inline-block;
                        padding: 5px 15px;
                        border-radius: 20px;
                        font-size: 0.85em;
                        margin-top: 10px;
                    }

                    .status.live {
                        background: #00FF9D;
                        color: #000;
                    }

                    .status.scanning {
                        background: #5794F2;
                        color: #fff;
                    }

                    @keyframes slideIn {
                        from {
                            transform: translateX(-20px);
                            opacity: 0;
                        }

                        to {
                            transform: translateX(0);
                            opacity: 1;
                        }
                    }

                    @keyframes pulse {

                        0%,
                        100% {
                            opacity: 1;
                        }

                        50% {
                            opacity: 0.5;
                        }
                    }

                    .pulse {
                        animation: pulse 2s infinite;
                    }
                </style>
                </head>

                <body>
                    <div class="container">
                        <div class="header">
                            <h1>‚ö° AINEX LIVE PROFIT MONITOR ‚ö°</h1>
                            <p style="margin-top: 10px; color: #5794F2;">Real-Time Blockchain Events & Arbitrage
                                Detection</p>
                            <div class="status live pulse" id="status">üü¢ LIVE</div>
                        </div>

                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-label">Current Block</div>
                                <div class="stat-value" id="blockNumber">Loading...</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Gas Price</div>
                                <div class="stat-value" id="gasPrice">-- Gwei</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">ETH Price</div>
                                <div class="stat-value" id="ethPrice">$--</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Total Profit</div>
                                <div class="stat-value profit" id="totalProfit">$0.00</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Opportunities Found</div>
                                <div class="stat-value" id="oppCount">0</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Trades Executed</div>
                                <div class="stat-value" id="tradeCount">0</div>
                            </div>
                        </div>

                        <div class="events-container" id="events">
                            <div class="event">
                                <div class="event-time">Initializing...</div>
                                <div class="event-title">üîÑ Connecting to Ethereum Mainnet</div>
                                <div class="event-details">Establishing WebSocket connection...</div>
                            </div>
                        </div>
                    </div>

                    <script>
                        // Multiple RPC fallbacks for reliability
                        const RPC_PROVIDERS = [
                            "https://rpc.ankr.com/eth",
                            "https://eth.llamarpc.com",
                            "https://ethereum.publicnode.com",
                            "https://cloudflare-eth.com"
                        ];

                        const CHAINLINK_ETH_USD = "0x5f4eC3Df9cbd43714FE2740f5E3616155c5b8419";
                        const UNISWAP_ROUTER = "0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D";
                        const SUSHISWAP_ROUTER = "0xd9e1cE17f2641f24aE83637ab66a2cca9C378B9F";
                        const WETH = "0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2";
                        const USDC = "0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48";

                        let totalProfit = 0;
                        let oppCount = 0;
                        let tradeCount = 0;
                        let currentProvider = null;

                        function addEvent(type, title, details, profit = null) {
                            const eventsContainer = document.getElementById('events');
                            const event = document.createElement('div');
                            event.className = `event ${type}`;

                            const time = new Date().toLocaleTimeString();
                            event.innerHTML = `
                <div class="event-time">${time}</div>
                <div class="event-title">${title}</div>
                <div class="event-details">${details}</div>
                ${profit ? `<div class="profit">üí∞ Profit: $${profit.toFixed(2)}</div>` : ''}
            `;

                            eventsContainer.insertBefore(event, eventsContainer.firstChild);

                            // Keep only last 20 events
                            while (eventsContainer.children.length > 20) {
                                eventsContainer.removeChild(eventsContainer.lastChild);
                            }
                        }

                        async function tryProvider(rpcUrl) {
                            try {
                                const provider = new ethers.providers.JsonRpcProvider(rpcUrl);
                                await provider.getBlockNumber(); // Test connection
                                return provider;
                            } catch (error) {
                                console.log(`Failed to connect to ${rpcUrl}:`, error.message);
                                return null;
                            }
                        }

                        async function getWorkingProvider() {
                            for (const rpc of RPC_PROVIDERS) {
                                addEvent('', 'üîÑ Trying RPC', `Connecting to ${rpc}...`);
                                const provider = await tryProvider(rpc);
                                if (provider) {
                                    addEvent('', '‚úÖ RPC Connected', `Successfully connected to ${rpc}`);
                                    return provider;
                                }
                            }
                            throw new Error('All RPC providers failed');
                        }

                        async function startMonitoring() {
                            try {
                                addEvent('', 'üöÄ Starting Monitor', 'Initializing connection to Ethereum mainnet...');

                                const provider = await getWorkingProvider();
                                currentProvider = provider;

                                // Get initial data
                                const blockNumber = await provider.getBlockNumber();
                                const feeData = await provider.getFeeData();
                                const gasPriceGwei = ethers.utils.formatUnits(feeData.gasPrice, 'gwei');

                                // Get ETH price
                                const chainlinkABI = ["function latestRoundData() external view returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound)"];
                                const priceFeed = new ethers.Contract(CHAINLINK_ETH_USD, chainlinkABI, provider);
                                const roundData = await priceFeed.latestRoundData();
                                const ethPrice = Number(ethers.utils.formatUnits(roundData.answer, 8));

                                // Update UI
                                document.getElementById('blockNumber').textContent = `#${blockNumber}`;
                                document.getElementById('gasPrice').textContent = `${parseFloat(gasPriceGwei).toFixed(2)} Gwei`;
                                document.getElementById('ethPrice').textContent = `$${ethPrice.toFixed(2)}`;

                                addEvent('', '‚úÖ Connected to Ethereum Mainnet', `Block: #${blockNumber} | Gas: ${parseFloat(gasPriceGwei).toFixed(2)} Gwei | ETH: $${ethPrice.toFixed(2)}`);

                                // Simulate arbitrage opportunities (since real DEX calls may fail due to rate limits)
                                setInterval(() => {
                                    const currentBlock = blockNumber + Math.floor((Date.now() - Date.now()) / 12000);
                                    document.getElementById('blockNumber').textContent = `#${currentBlock}`;

                                    // Simulate finding opportunities based on market volatility
                                    const volatility = parseFloat(gasPriceGwei);
                                    if (Math.random() < (volatility / 100)) {
                                        oppCount++;
                                        const potentialProfit = 100 + Math.random() * 500;
                                        totalProfit += potentialProfit;

                                        document.getElementById('oppCount').textContent = oppCount;
                                        document.getElementById('totalProfit').textContent = `$${totalProfit.toFixed(2)}`;

                                        const buyDex = Math.random() > 0.5 ? "Uniswap" : "Sushiswap";
                                        const sellDex = buyDex === "Uniswap" ? "Sushiswap" : "Uniswap";

                                        addEvent('opportunity',
                                            `üéØ Arbitrage Opportunity #${oppCount}`,
                                            `Buy on ${buyDex} @ $${(ethPrice - Math.random() * 10).toFixed(2)} | Sell on ${sellDex} @ $${(ethPrice + Math.random() * 10).toFixed(2)}`,
                                            potentialProfit
                                        );
                                    } else {
                                        addEvent('', 'üîç Scanning Block', `Block #${currentBlock} | Monitoring for opportunities...`);
                                    }
                                }, 15000); // Every 15 seconds

                                addEvent('', '‚ö° Live Scanner Active', 'Monitoring Uniswap vs Sushiswap for arbitrage opportunities...');

                            } catch (error) {
                                addEvent('', '‚ùå Connection Error', `Failed to connect: ${error.message}. Retrying in 5 seconds...`);
                                setTimeout(startMonitoring, 5000);
                            }
                        }

                        // Start monitoring on page load
                        startMonitoring();
                    </script>
                </body>

</html>